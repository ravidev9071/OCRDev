<!--
  @File Name          : changeOfInformation.html
  @Description        : LWC to Implement COI functionality
  @Author             : Wilco
  @Group              : 
  
  @Modification Log   :
  Ver       Date            Author              		    Modification
  1.0       10/11/2021      chaitanya Nandamuri(Wilco)      PPP-266 : Initial Implementation 
-->
<template>
 <div class="spinner">
                <template if:true={isLoaded}>
                     <lightning-spinner alternative-text="Loading" variant="brand" size="large">
        </lightning-spinner>  
                </template>
    </div>
    
    <div class="slds-card-wrapper">
        <header>
            <h3 class="slds-text-heading_medium slds-text-align_center my-text_clr">
                <b> Change Of Information</b>
            </h3>
        </header>
        <article class="slds-card slds-card_boundary">
        <div class="slds-card__body slds-card__body_inner">   
                <lightning-record-edit-form object-api-name="Case"  record-id={caseId}  record-type-id={sobjectRTId} onsubmit={handleSubmit} onsuccess={handleSuccess} onerror={handleError} >
                    <!--lightning-messages>
                    </lightning-messages-->

                        <lightning-accordion allow-multiple-sections-open active-section-name={activeSections}>
                            <template iterator:section={layoutSections}>
                                    <div  key={section.value.label} class="slds-section slds-is-open">
                                        <lightning-accordion-section name={section.value.label} label={section.value.label}>
                                                <div class="slds-section__content">
                                                    <lightning-layout multiple-rows={multiplerows} key={section.value.label}>
                                                        <template iterator:field={section.value.fieldsList}>
                                                            <lightning-layout-item size={size}   key={field.value.fieldName} >
                                                                <lightning-input-field field-name={field.value.fieldName} required={field.value.isRequired} value={field.value.fieldValue} disabled={field.value.isReadOnly} data-type="user-input" onchange={handleInputChange}> 
                                                                </lightning-input-field>
                                                            </lightning-layout-item>
                                                        </template>
                                                    </lightning-layout>
                                                </div>
                                        </lightning-accordion-section>
                                    </div>
                                </template>
                            </lightning-accordion>
                            <footer class="slds-card__footer">
                                <div class="slds-align_absolute-center" style="height:5rem">
                                    <lightning-layout vertical-align="center" class="x-large">
                                         <lightning-layout-item padding="around-large">
                                            <div class="slds-m-top_medium">
                                                <lightning-button class="slds-m-top_small" variant="brand" type="submit"
                                                    label="Save" >
                                                </lightning-button>
                                            </div>
                                        </lightning-layout-item>
                                    </lightning-layout>
                                </div>
                            </footer>
                </lightning-record-edit-form>
            </div>
        </article>
    </div>
</template>